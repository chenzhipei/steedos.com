stage: ${env.STAGE}
deploument_url: ${env.NEXT_PUBLIC_DEPLOYMENT_URL}
steedos_root_url: ${env.NEXT_PUBLIC_STEEDOS_SERVER_ROOT_URL}
steedos_api_key: ${env.STEEDOS_SERVER_API_KEY}

myNextApplication:
  component: "@sls-next/serverless-component@3.4.0-alpha.6" # it is recommended you pin the latest stable version of serverless-next.js
  inputs:
    # domain: ["test", "steedos.cn"]
    name:
      defaultLambda: steedosWebsiteDefaultLambda
      apiLambda: steedosWebsiteApiLambda
      imageLambda: steedosWebsiteImageLambda
    stage: ${stage}
    deploy: true
    bucketRegion: ap-east-1
    bucketName: steedos-website-dev
    region: ap-east-1
    runtime: nodejs14.x
    memory: 2048
    timeout: 30
    enableS3Acceleration: false
    build:
      env:
        NEXT_PUBLIC_DEPLOYMENT_URL=${deploument_url}
        NEXT_PUBLIC_STEEDOS_SERVER_ROOT_URL=${steedos_root_url}
        STEEDOS_SERVER_API_KEY=${steedos_api_key}
      cleanupDotNext: true
      postBuildCommands: []

useDotenv: true
